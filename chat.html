<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Супер крутой сайт</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.css">
</head>
<body>
    <div class="chatbox" id="chatbox"></div>

    <table id="messagesTable" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Время</th>
                <th>Имя</th>
                <th>Сообщение</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>

    <script>
        const names = ["Алексей", "Мария", "Иван", "Ольга", "Дмитрий", "Анна", "Сергей", "Екатерина", "Павел", "Наталья"];
        const messages = [
            "Привет! Как дела?",
            "Что нового?",
            "Как прошёл твой день?",
            "Давай встретимся завтра.",
            "Я занят, перезвоню позже.",
            "Смотри, что я нашёл!",
            "Как твои успехи?",
            "Давай обсудим это позже.",
            "Я согласен с тобой.",
            "Это интересно!"
        ];

        function getRandomTime() {
            const hours = String(Math.floor(Math.random() * 24)).padStart(2, '0');
            const minutes = String(Math.floor(Math.random() * 60)).padStart(2, '0');
            return `${hours}:${minutes}`;
        }

        function getRandomElement(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function addMessageToTable() {
            const time = getRandomTime();
            const name = getRandomElement(names);
            const message = getRandomElement(messages);

            $('#messagesTable').DataTable().row.add([
                time,
                name,
                message
            ]).draw(false);
        }

        $(document).ready(function() {
            $('#messagesTable').DataTable({
                "paging": true,
                "pageLength": 5,
                "lengthChange": false,
                "searching": true,
                "ordering": true,
                "info": true,
                "autoWidth": false
            });

            for (let i = 0; i < 10; i++) {
                addMessageToTable();
            }
        });
    </script>
</body>
</html>